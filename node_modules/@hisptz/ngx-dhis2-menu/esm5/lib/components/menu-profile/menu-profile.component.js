/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { MenuService } from '../../services/menu.service';
import { PROFILE_MENUS } from '../../constants/profile-menus';
var MenuProfileComponent = /** @class */ (function () {
    function MenuProfileComponent(menuService) {
        this.menuService = menuService;
        this.showProfile = false;
        this.rootUrl = this.contextPath = '../../../';
        this.loadingUser = true;
        this.profileMenus = PROFILE_MENUS;
    }
    /**
     * @return {?}
     */
    MenuProfileComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.menuService.getUserInfo(this.rootUrl).subscribe(function (profile) {
            if (profile) {
                _this.currentUser = {
                    name: profile.displayName,
                    email: profile.email,
                };
            }
            _this.loadingUser = false;
        });
    };
    /**
     * @param {?} e
     * @return {?}
     */
    MenuProfileComponent.prototype.showMenuProfile = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        e.stopPropagation();
        this.showProfile = true;
    };
    /**
     * @param {?=} e
     * @return {?}
     */
    MenuProfileComponent.prototype.hideMenuProfile = /**
     * @param {?=} e
     * @return {?}
     */
    function (e) {
        if (e) {
            e.stopPropagation();
        }
        this.showProfile = false;
    };
    MenuProfileComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-menu-profile',
                    template: "<div class=\"menu-profile-container\" appClickOutside (clickOutside)=\"hideMenuProfile()\">\n    <div class=\"menu-profile-btn\">\n        <a class=\"menu-profile-icon\" [style.background-color]=\"backgroundColor | convertToLighterColor\" (mouseenter)=\"showMenuProfile($event)\">\n            {{currentUser?.name | abbreviate}}\n        </a>\n    </div>\n    <div class=\"profile-menu-list-block\" *ngIf=\"showProfile && !loadingUser\" (mouseleave)=\"hideMenuProfile($event)\">\n        <div class=\"profile-menus-list\">\n            <a *ngFor=\"let profileMenu of profileMenus\" [href]=\"rootUrl + profileMenu.defaultAction\" class=\"profile-menu-btn\">\n                <div>\n                    <img alt=\"\" [src]=\"contextPath + profileMenu.icon\">\n                    <div class=\"profile-menu-name\">{{profileMenu?.name}}</div>\n                </div>\n            </a>\n        </div>\n        <div class=\"user-profile-block\">\n            <div [style.background-color]=\"backgroundColor | convertToLighterColor\" class=\"user-profile-logo\" *ngIf=\"!loadingUser\">{{currentUser?.name | abbreviate}}</div>\n            <div class=\"user-profile-name\">\n                <span *ngIf=\"!loadingUser\"><b>{{currentUser?.name}}</b></span>\n            </div>\n            <div><small *ngIf=\"!loadingUser\">{{currentUser?.email}}</small></div>\n            <div class=\"logout-btn-block\">\n                <a class=\"logout-btn\" [href]=\"rootUrl + 'dhis-web-commons-security/logout.action'\" *ngIf=\"!loadingUser\">\n            LOG OUT\n          </a>\n            </div>\n        </div>\n    </div>\n</div>\n",
                    styles: [".menu-profile-icon{height:34px;width:34px;border-radius:17px;display:flex;justify-content:center;align-items:center;font-size:15px;cursor:pointer;text-decoration:none;color:#eee!important}.menu-profile-btn{margin-right:2rem;margin-top:5px}.profile-menu-list-block{position:absolute;top:42px;max-width:650px;width:100%;min-height:320px;right:10px;z-index:-1000;font-size:14px;text-align:left;list-style:none;background-color:#fff;display:flex;box-shadow:0 0 3px rgba(0,0,0,.3)}.profile-menus-list{width:70%;display:flex;flex-wrap:wrap;overflow:auto;padding:15px;height:300px}.user-profile-block{position:relative;text-align:center;width:30%;height:320px;padding-top:20px;background-color:#f5f5f5}.user-profile-logo{margin:auto;height:60px;width:60px;display:flex;justify-content:center;align-items:center;border-radius:30px;font-size:30px;color:#eee;font-weight:500}.user-profile-name{margin-top:10px}.logout-btn-block{position:absolute;bottom:20px;color:#555;padding:5px;width:100%}.logout-btn{display:block;text-decoration:none;text-align:center}.logout-btn:hover{color:#222}.profile-menu-btn{margin:5px;text-decoration:none;height:120px;width:120px;display:flex;justify-content:center;align-items:center;transition:all .2s ease-in-out;padding:5px}.profile-menu-btn:hover{background-color:#f1f1f1;-webkit-transform:scale(1.01);transform:scale(1.01)}.profile-menu-btn img{display:block;margin:auto;height:50px}.profile-menu-name{margin-top:5px;font-size:11px;text-align:center;color:#222}"]
                },] },
    ];
    /** @nocollapse */
    MenuProfileComponent.ctorParameters = function () { return [
        { type: MenuService }
    ]; };
    MenuProfileComponent.propDecorators = {
        rootUrl: [{ type: Input }],
        contextPath: [{ type: Input }],
        backgroundColor: [{ type: Input }]
    };
    return MenuProfileComponent;
}());
export { MenuProfileComponent };
function MenuProfileComponent_tsickle_Closure_declarations() {
    /** @type {?} */
    MenuProfileComponent.prototype.rootUrl;
    /** @type {?} */
    MenuProfileComponent.prototype.contextPath;
    /** @type {?} */
    MenuProfileComponent.prototype.backgroundColor;
    /** @type {?} */
    MenuProfileComponent.prototype.showProfile;
    /** @type {?} */
    MenuProfileComponent.prototype.currentUser;
    /** @type {?} */
    MenuProfileComponent.prototype.loadingUser;
    /** @type {?} */
    MenuProfileComponent.prototype.profileMenus;
    /** @type {?} */
    MenuProfileComponent.prototype.menuService;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS1wcm9maWxlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BoaXNwdHovbmd4LWRoaXMyLW1lbnUvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9tZW51LXByb2ZpbGUvbWVudS1wcm9maWxlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzFELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQzs7SUFrRDVELDhCQUFvQixXQUF3QjtRQUF4QixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUMxQyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztRQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBQzlDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO0tBQ25DOzs7O0lBRUQsdUNBQVE7OztJQUFSO1FBQUEsaUJBVUM7UUFUQyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQUMsT0FBWTtZQUNoRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUNaLEtBQUksQ0FBQyxXQUFXLEdBQUc7b0JBQ2pCLElBQUksRUFBRSxPQUFPLENBQUMsV0FBVztvQkFDekIsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLO2lCQUNyQixDQUFDO2FBQ0g7WUFDRCxLQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztTQUMxQixDQUFDLENBQUM7S0FDSjs7Ozs7SUFFRCw4Q0FBZTs7OztJQUFmLFVBQWdCLENBQUM7UUFDZixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7S0FDekI7Ozs7O0lBRUQsOENBQWU7Ozs7SUFBZixVQUFnQixDQUFFO1FBQ2hCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDTixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDckI7UUFFRCxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztLQUMxQjs7Z0JBOUVGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsa0JBQWtCO29CQUM1QixRQUFRLEVBQUUsd2xEQTZCWDtvQkFDQyxNQUFNLEVBQUUsQ0FBQyxrOUNBQWs5QyxDQUFDO2lCQUM3OUM7Ozs7Z0JBcENRLFdBQVc7OzswQkFzQ2pCLEtBQUs7OEJBR0wsS0FBSztrQ0FHTCxLQUFLOzsrQkE3Q1I7O1NBc0NhLG9CQUFvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWVudVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9tZW51LnNlcnZpY2UnO1xuaW1wb3J0IHsgUFJPRklMRV9NRU5VUyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wcm9maWxlLW1lbnVzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXBwLW1lbnUtcHJvZmlsZScsXG4gIHRlbXBsYXRlOiBgPGRpdiBjbGFzcz1cIm1lbnUtcHJvZmlsZS1jb250YWluZXJcIiBhcHBDbGlja091dHNpZGUgKGNsaWNrT3V0c2lkZSk9XCJoaWRlTWVudVByb2ZpbGUoKVwiPlxuICAgIDxkaXYgY2xhc3M9XCJtZW51LXByb2ZpbGUtYnRuXCI+XG4gICAgICAgIDxhIGNsYXNzPVwibWVudS1wcm9maWxlLWljb25cIiBbc3R5bGUuYmFja2dyb3VuZC1jb2xvcl09XCJiYWNrZ3JvdW5kQ29sb3IgfCBjb252ZXJ0VG9MaWdodGVyQ29sb3JcIiAobW91c2VlbnRlcik9XCJzaG93TWVudVByb2ZpbGUoJGV2ZW50KVwiPlxuICAgICAgICAgICAge3tjdXJyZW50VXNlcj8ubmFtZSB8IGFiYnJldmlhdGV9fVxuICAgICAgICA8L2E+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtbWVudS1saXN0LWJsb2NrXCIgKm5nSWY9XCJzaG93UHJvZmlsZSAmJiAhbG9hZGluZ1VzZXJcIiAobW91c2VsZWF2ZSk9XCJoaWRlTWVudVByb2ZpbGUoJGV2ZW50KVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1tZW51cy1saXN0XCI+XG4gICAgICAgICAgICA8YSAqbmdGb3I9XCJsZXQgcHJvZmlsZU1lbnUgb2YgcHJvZmlsZU1lbnVzXCIgW2hyZWZdPVwicm9vdFVybCArIHByb2ZpbGVNZW51LmRlZmF1bHRBY3Rpb25cIiBjbGFzcz1cInByb2ZpbGUtbWVudS1idG5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aW1nIGFsdD1cIlwiIFtzcmNdPVwiY29udGV4dFBhdGggKyBwcm9maWxlTWVudS5pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLW1lbnUtbmFtZVwiPnt7cHJvZmlsZU1lbnU/Lm5hbWV9fTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInVzZXItcHJvZmlsZS1ibG9ja1wiPlxuICAgICAgICAgICAgPGRpdiBbc3R5bGUuYmFja2dyb3VuZC1jb2xvcl09XCJiYWNrZ3JvdW5kQ29sb3IgfCBjb252ZXJ0VG9MaWdodGVyQ29sb3JcIiBjbGFzcz1cInVzZXItcHJvZmlsZS1sb2dvXCIgKm5nSWY9XCIhbG9hZGluZ1VzZXJcIj57e2N1cnJlbnRVc2VyPy5uYW1lIHwgYWJicmV2aWF0ZX19PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidXNlci1wcm9maWxlLW5hbWVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIiFsb2FkaW5nVXNlclwiPjxiPnt7Y3VycmVudFVzZXI/Lm5hbWV9fTwvYj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+PHNtYWxsICpuZ0lmPVwiIWxvYWRpbmdVc2VyXCI+e3tjdXJyZW50VXNlcj8uZW1haWx9fTwvc21hbGw+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9nb3V0LWJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibG9nb3V0LWJ0blwiIFtocmVmXT1cInJvb3RVcmwgKyAnZGhpcy13ZWItY29tbW9ucy1zZWN1cml0eS9sb2dvdXQuYWN0aW9uJ1wiICpuZ0lmPVwiIWxvYWRpbmdVc2VyXCI+XG4gICAgICAgICAgICBMT0cgT1VUXG4gICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+XG5gLFxuICBzdHlsZXM6IFtgLm1lbnUtcHJvZmlsZS1pY29ue2hlaWdodDozNHB4O3dpZHRoOjM0cHg7Ym9yZGVyLXJhZGl1czoxN3B4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtmb250LXNpemU6MTVweDtjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjojZWVlIWltcG9ydGFudH0ubWVudS1wcm9maWxlLWJ0bnttYXJnaW4tcmlnaHQ6MnJlbTttYXJnaW4tdG9wOjVweH0ucHJvZmlsZS1tZW51LWxpc3QtYmxvY2t7cG9zaXRpb246YWJzb2x1dGU7dG9wOjQycHg7bWF4LXdpZHRoOjY1MHB4O3dpZHRoOjEwMCU7bWluLWhlaWdodDozMjBweDtyaWdodDoxMHB4O3otaW5kZXg6LTEwMDA7Zm9udC1zaXplOjE0cHg7dGV4dC1hbGlnbjpsZWZ0O2xpc3Qtc3R5bGU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7ZGlzcGxheTpmbGV4O2JveC1zaGFkb3c6MCAwIDNweCByZ2JhKDAsMCwwLC4zKX0ucHJvZmlsZS1tZW51cy1saXN0e3dpZHRoOjcwJTtkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7b3ZlcmZsb3c6YXV0bztwYWRkaW5nOjE1cHg7aGVpZ2h0OjMwMHB4fS51c2VyLXByb2ZpbGUtYmxvY2t7cG9zaXRpb246cmVsYXRpdmU7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MzAlO2hlaWdodDozMjBweDtwYWRkaW5nLXRvcDoyMHB4O2JhY2tncm91bmQtY29sb3I6I2Y1ZjVmNX0udXNlci1wcm9maWxlLWxvZ297bWFyZ2luOmF1dG87aGVpZ2h0OjYwcHg7d2lkdGg6NjBweDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Ym9yZGVyLXJhZGl1czozMHB4O2ZvbnQtc2l6ZTozMHB4O2NvbG9yOiNlZWU7Zm9udC13ZWlnaHQ6NTAwfS51c2VyLXByb2ZpbGUtbmFtZXttYXJnaW4tdG9wOjEwcHh9LmxvZ291dC1idG4tYmxvY2t7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjIwcHg7Y29sb3I6IzU1NTtwYWRkaW5nOjVweDt3aWR0aDoxMDAlfS5sb2dvdXQtYnRue2Rpc3BsYXk6YmxvY2s7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1hbGlnbjpjZW50ZXJ9LmxvZ291dC1idG46aG92ZXJ7Y29sb3I6IzIyMn0ucHJvZmlsZS1tZW51LWJ0bnttYXJnaW46NXB4O3RleHQtZGVjb3JhdGlvbjpub25lO2hlaWdodDoxMjBweDt3aWR0aDoxMjBweDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2UtaW4tb3V0O3BhZGRpbmc6NXB4fS5wcm9maWxlLW1lbnUtYnRuOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2YxZjFmMTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjAxKTt0cmFuc2Zvcm06c2NhbGUoMS4wMSl9LnByb2ZpbGUtbWVudS1idG4gaW1ne2Rpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG87aGVpZ2h0OjUwcHh9LnByb2ZpbGUtbWVudS1uYW1le21hcmdpbi10b3A6NXB4O2ZvbnQtc2l6ZToxMXB4O3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiMyMjJ9YF1cbn0pXG5leHBvcnQgY2xhc3MgTWVudVByb2ZpbGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKVxuICByb290VXJsOiBzdHJpbmc7XG5cbiAgQElucHV0KClcbiAgY29udGV4dFBhdGg6IHN0cmluZztcblxuICBASW5wdXQoKVxuICBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcblxuICBzaG93UHJvZmlsZTogYm9vbGVhbjtcbiAgY3VycmVudFVzZXI6IGFueTtcbiAgbG9hZGluZ1VzZXI6IGJvb2xlYW47XG4gIHByb2ZpbGVNZW51czogYW55W107XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbWVudVNlcnZpY2U6IE1lbnVTZXJ2aWNlKSB7XG4gICAgdGhpcy5zaG93UHJvZmlsZSA9IGZhbHNlO1xuICAgIHRoaXMucm9vdFVybCA9IHRoaXMuY29udGV4dFBhdGggPSAnLi4vLi4vLi4vJztcbiAgICB0aGlzLmxvYWRpbmdVc2VyID0gdHJ1ZTtcbiAgICB0aGlzLnByb2ZpbGVNZW51cyA9IFBST0ZJTEVfTUVOVVM7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLm1lbnVTZXJ2aWNlLmdldFVzZXJJbmZvKHRoaXMucm9vdFVybCkuc3Vic2NyaWJlKChwcm9maWxlOiBhbnkpID0+IHtcbiAgICAgIGlmIChwcm9maWxlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSB7XG4gICAgICAgICAgbmFtZTogcHJvZmlsZS5kaXNwbGF5TmFtZSxcbiAgICAgICAgICBlbWFpbDogcHJvZmlsZS5lbWFpbCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHRoaXMubG9hZGluZ1VzZXIgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3dNZW51UHJvZmlsZShlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnNob3dQcm9maWxlID0gdHJ1ZTtcbiAgfVxuXG4gIGhpZGVNZW51UHJvZmlsZShlPykge1xuICAgIGlmIChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIHRoaXMuc2hvd1Byb2ZpbGUgPSBmYWxzZTtcbiAgfVxufVxuIl19