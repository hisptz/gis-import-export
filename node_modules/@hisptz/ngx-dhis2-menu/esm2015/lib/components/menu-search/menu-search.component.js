/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { animate, state, style, transition, trigger } from '@angular/animations';
import { MenuService } from '../../services/menu.service';
export class MenuSearchComponent {
    /**
     * @param {?} menuService
     */
    constructor(menuService) {
        this.menuService = menuService;
        this.rootUrl = '../../../';
        this.searchWidth = 47;
        this.showApps = false;
        this.apps = [];
        this.originalApps = [];
        this.loadingModules = true;
        this.filteredApp = '';
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.menuService
            .getMenuModules(this.rootUrl)
            .subscribe((menuModules) => {
            if (menuModules !== null) {
                this.loadingModules = false;
                this.originalApps = [...menuModules];
                this.apps = this._prepareMenuModules();
            }
        });
    }
    /**
     * @return {?}
     */
    _prepareMenuModules() {
        return this.filteredApp === ''
            ? this.originalApps.filter((menu) => {
                return !menu.onlyShowOnSearch;
            })
            : this.originalApps;
    }
    /**
     * @return {?}
     */
    updateMenuModules() {
        this.apps = this._prepareMenuModules();
    }
    /**
     * @param {?=} e
     * @return {?}
     */
    widdenSearch(e) {
        if (e) {
            e.stopPropagation();
        }
        document.getElementById('menu_search_input').focus();
        this.showApps = true;
    }
    /**
     * @param {?=} e
     * @return {?}
     */
    reduceSearch(e) {
        if (e) {
            e.stopPropagation();
        }
        document.getElementById('menu_search_input').blur();
        this.showApps = false;
    }
    /**
     * @param {?} e
     * @return {?}
     */
    toggleSearch(e) {
        e.stopPropagation();
        if (this.showApps) {
            this.reduceSearch();
        }
        else {
            this.widdenSearch();
        }
    }
}
MenuSearchComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-menu-search',
                template: `<div class="menu-search-container" appClickOutside (clickOutside)="reduceSearch()">
  <div class="menu-search-icon">
    <svg class="" viewBox="0 0 24 24"
         style="display: inline-block; color: rgba(0, 0, 0, 0.87); fill: white; height: 24px; width: 24px; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; padding: 0px;">
      <path
        d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
    </svg>
  </div>
  <div class="menu-search-input-block">
    <input type="text" class="menu-search-input" id="menu_search_input" placeholder="Search Apps"
           (focus)="widdenSearch($event)" [(ngModel)]="filteredApp" (ngModelChange)="updateMenuModules()"/>
    <span class="underline"></span>
  </div>
  <div class="menu-toggle-link">
    <a (click)="toggleSearch($event)">
      <svg class="menu-toggle-icon" viewBox="0 0 24 24">
        <path
          d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path>
      </svg>
    </a>
  </div>

  <div class="menu-list-block" [@slide] *ngIf="showApps">
    <div *ngIf="(apps | filterByName: filteredApp).length !== 0" class="menu-inner-list-block">
      <a *ngFor="let app of  apps | filterByName:filteredApp" [href]="app.defaultAction" class="app-menu-btn"
         title="{{ app.description }}">
        <div class="app-menu-inner-block">
          <img alt="" [src]="app.icon">
          <div class="app-menu-name">{{app.displayName}}</div>
        </div>
      </a>
    </div>
    <div class="menu-inner-list-block-no-match" *ngIf="(apps | filterByName: filteredApp).length == 0">
      <p>No match found!</p>
    </div>
    <div class="menu-app-management-block">
      <a [href]="rootUrl + 'dhis-web-menu-management/'" class="app-management-btn">
        Manage my Apps
      </a>
    </div>
  </div>
</div>
`,
                styles: [`.menu-search-container{display:flex;position:relative;height:100%}.menu-search-input-block{width:390px}#menu_search_input{padding:0!important;margin:0!important;background-color:transparent;color:#fff!important;float:right;border-style:none;border-bottom:1px solid #f1f1f1;transition:all .2s ease-in-out;display:flex;align-items:center;height:37px;font-size:15px;width:100%}#menu_search_input::-webkit-input-placeholder{color:rgba(255,255,255,.7)}#menu_search_input::-moz-placeholder{color:rgba(255,255,255,.7)}#menu_search_input:-ms-input-placeholder{color:rgba(255,255,255,.7)}#menu_search_input:-moz-placeholder{color:rgba(255,255,255,.7)}#menu_search_input:focus{outline:0}#menu_search_input:focus+.underline{-webkit-transform:scale(1);transform:scale(1)}.underline{background-color:#fff;position:absolute;height:2px;width:390px;bottom:11px;-webkit-transform:scale(0,1);transform:scale(0,1);transition:all .3s linear}.menu-toggle-link{margin:10px}.menu-toggle-link a{cursor:pointer}.menu-toggle-icon{display:block;height:25px;width:25px;fill:#fff}.menu-list-block{position:absolute;display:block;top:49px;width:590px;min-height:430px;right:10px;z-index:-1000;font-size:14px;text-align:left;list-style:none;background-color:#fff;box-shadow:0 0 3px rgba(0,0,0,.3)}.menu-inner-list-block{display:flex;overflow:hidden;flex-wrap:wrap;height:380px;padding:10px 5px 10px 10px}.menu-inner-list-block:hover{overflow:auto}.menu-inner-list-block-no-match{display:flex;overflow:hidden;flex-wrap:wrap;height:380px;font-size:26px;color:#ccc}.menu-inner-list-block-no-match p{padding-top:100px;width:100%!important;text-align:center}.apps{padding:15px;overflow:auto;right:35px;width:600px;height:400px}.apps-hidden{display:none}.apps,.profile{position:absolute;background-color:#fff;border:1px solid #ececec;top:50px;z-index:1000;box-shadow:0 5px 10px rgba(0,0,0,.175)}.app-menu-btn{margin:5px;text-decoration:none;height:120px;width:120px;display:flex;justify-content:center;align-items:center;transition:all .2s ease-in-out;padding:5px}.app-menu-btn:hover{background-color:#f1f1f1;-webkit-transform:scale(1.01);transform:scale(1.01)}.app-menu-btn img{display:block;margin:auto;height:53px}.app-menu-name{margin-top:5px;font-size:13px;text-align:center;color:#222}.menu-inner-list-block::-webkit-scrollbar{width:10px}.menu-inner-list-block::-webkit-scrollbar-track{background-color:rgba(0,0,0,.02)}.menu-inner-list-block::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.1)}.menu-app-management-block{width:100%;height:50px;display:flex;align-items:center;justify-content:center;box-shadow:0 -1px 2px -1px rgba(0,0,0,.16)}.app-management-btn{transition:all .2s ease-in-out;display:flex;align-items:center;justify-content:center;font-size:13px;height:40px;width:97%;color:#222;text-decoration:none}.app-management-btn:hover{background-color:#eee;-webkit-transform:scale(1.01);transform:scale(1.01)}.menu-search-icon{display:flex;align-items:center;margin-right:7px}`],
                animations: [
                    trigger('slide', [
                        state('in', style({
                            opacity: 1
                        })),
                        transition('void => *', [
                            style({
                                transform: 'translateY(-100%)'
                            }),
                            animate(300)
                        ]),
                        transition('* => void', [
                            animate(300),
                            style({
                                transform: 'translateY(-100%)'
                            })
                        ])
                    ])
                ]
            },] },
];
/** @nocollapse */
MenuSearchComponent.ctorParameters = () => [
    { type: MenuService }
];
MenuSearchComponent.propDecorators = {
    rootUrl: [{ type: Input }]
};
function MenuSearchComponent_tsickle_Closure_declarations() {
    /** @type {?} */
    MenuSearchComponent.prototype.rootUrl;
    /** @type {?} */
    MenuSearchComponent.prototype.searchWidth;
    /** @type {?} */
    MenuSearchComponent.prototype.showApps;
    /** @type {?} */
    MenuSearchComponent.prototype.apps;
    /** @type {?} */
    MenuSearchComponent.prototype.originalApps;
    /** @type {?} */
    MenuSearchComponent.prototype.loadingModules;
    /** @type {?} */
    MenuSearchComponent.prototype.filteredApp;
    /** @type {?} */
    MenuSearchComponent.prototype.menuService;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS1zZWFyY2guY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGhpc3B0ei9uZ3gtZGhpczItbWVudS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL21lbnUtc2VhcmNoL21lbnUtc2VhcmNoLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUNMLE9BQU8sRUFDUCxLQUFLLEVBQ0wsS0FBSyxFQUNMLFVBQVUsRUFDVixPQUFPLEVBQ1IsTUFBTSxxQkFBcUIsQ0FBQztBQUM3QixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUF1RTFELE1BQU07Ozs7SUFRSixZQUFvQixXQUF3QjtRQUF4QixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUMxQyxJQUFJLENBQUMsT0FBTyxHQUFHLFdBQVcsQ0FBQztRQUMzQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO0tBQ3ZCOzs7O0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyxXQUFXO2FBQ2IsY0FBYyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7YUFDNUIsU0FBUyxDQUFDLENBQUMsV0FBZ0IsRUFBRSxFQUFFO1lBQzlCLEVBQUUsQ0FBQyxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN6QixJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztnQkFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7YUFDeEM7U0FDRixDQUFDLENBQUM7S0FDTjs7OztJQUVPLG1CQUFtQjtRQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxFQUFFO1lBQzVCLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQVMsRUFBRSxFQUFFO2dCQUNyQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7YUFDL0IsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDOzs7OztJQUd4QixpQkFBaUI7UUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0tBQ3hDOzs7OztJQUVELFlBQVksQ0FBQyxDQUFFO1FBQ2IsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNOLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztTQUNyQjtRQUNELFFBQVEsQ0FBQyxjQUFjLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNyRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztLQUN0Qjs7Ozs7SUFFRCxZQUFZLENBQUMsQ0FBRTtRQUNiLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDTixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDckI7UUFDRCxRQUFRLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDcEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7S0FDdkI7Ozs7O0lBRUQsWUFBWSxDQUFDLENBQUM7UUFDWixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDcEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQ3JCO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDckI7S0FDRjs7O1lBdElGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsaUJBQWlCO2dCQUMzQixRQUFRLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQTBDWDtnQkFDQyxNQUFNLEVBQUUsQ0FBQyxnNUZBQWc1RixDQUFDO2dCQUMxNUYsVUFBVSxFQUFFO29CQUNWLE9BQU8sQ0FBQyxPQUFPLEVBQUU7d0JBQ2YsS0FBSyxDQUNILElBQUksRUFDSixLQUFLLENBQUM7NEJBQ0osT0FBTyxFQUFFLENBQUM7eUJBQ1gsQ0FBQyxDQUNIO3dCQUNELFVBQVUsQ0FBQyxXQUFXLEVBQUU7NEJBQ3RCLEtBQUssQ0FBQztnQ0FDSixTQUFTLEVBQUUsbUJBQW1COzZCQUMvQixDQUFDOzRCQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUM7eUJBQ2IsQ0FBQzt3QkFDRixVQUFVLENBQUMsV0FBVyxFQUFFOzRCQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDOzRCQUNaLEtBQUssQ0FBQztnQ0FDSixTQUFTLEVBQUUsbUJBQW1COzZCQUMvQixDQUFDO3lCQUNILENBQUM7cUJBQ0gsQ0FBQztpQkFDSDthQUNGOzs7O1lBdEVRLFdBQVc7OztzQkF3RWpCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIGFuaW1hdGUsXG4gIHN0YXRlLFxuICBzdHlsZSxcbiAgdHJhbnNpdGlvbixcbiAgdHJpZ2dlclxufSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCB7IE1lbnVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvbWVudS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXBwLW1lbnUtc2VhcmNoJyxcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwibWVudS1zZWFyY2gtY29udGFpbmVyXCIgYXBwQ2xpY2tPdXRzaWRlIChjbGlja091dHNpZGUpPVwicmVkdWNlU2VhcmNoKClcIj5cbiAgPGRpdiBjbGFzcz1cIm1lbnUtc2VhcmNoLWljb25cIj5cbiAgICA8c3ZnIGNsYXNzPVwiXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jazsgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44Nyk7IGZpbGw6IHdoaXRlOyBoZWlnaHQ6IDI0cHg7IHdpZHRoOiAyNHB4OyB1c2VyLXNlbGVjdDogbm9uZTsgdHJhbnNpdGlvbjogYWxsIDQ1MG1zIGN1YmljLWJlemllcigwLjIzLCAxLCAwLjMyLCAxKSAwbXM7IHBhZGRpbmc6IDBweDtcIj5cbiAgICAgIDxwYXRoXG4gICAgICAgIGQ9XCJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpcIj48L3BhdGg+XG4gICAgPC9zdmc+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwibWVudS1zZWFyY2gtaW5wdXQtYmxvY2tcIj5cbiAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm1lbnUtc2VhcmNoLWlucHV0XCIgaWQ9XCJtZW51X3NlYXJjaF9pbnB1dFwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIEFwcHNcIlxuICAgICAgICAgICAoZm9jdXMpPVwid2lkZGVuU2VhcmNoKCRldmVudClcIiBbKG5nTW9kZWwpXT1cImZpbHRlcmVkQXBwXCIgKG5nTW9kZWxDaGFuZ2UpPVwidXBkYXRlTWVudU1vZHVsZXMoKVwiLz5cbiAgICA8c3BhbiBjbGFzcz1cInVuZGVybGluZVwiPjwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJtZW51LXRvZ2dsZS1saW5rXCI+XG4gICAgPGEgKGNsaWNrKT1cInRvZ2dsZVNlYXJjaCgkZXZlbnQpXCI+XG4gICAgICA8c3ZnIGNsYXNzPVwibWVudS10b2dnbGUtaWNvblwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBkPVwiTTQgOGg0VjRINHY0em02IDEyaDR2LTRoLTR2NHptLTYgMGg0di00SDR2NHptMC02aDR2LTRINHY0em02IDBoNHYtNGgtNHY0em02LTEwdjRoNFY0aC00em0tNiA0aDRWNGgtNHY0em02IDZoNHYtNGgtNHY0em0wIDZoNHYtNGgtNHY0elwiPjwvcGF0aD5cbiAgICAgIDwvc3ZnPlxuICAgIDwvYT5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cIm1lbnUtbGlzdC1ibG9ja1wiIFtAc2xpZGVdICpuZ0lmPVwic2hvd0FwcHNcIj5cbiAgICA8ZGl2ICpuZ0lmPVwiKGFwcHMgfCBmaWx0ZXJCeU5hbWU6IGZpbHRlcmVkQXBwKS5sZW5ndGggIT09IDBcIiBjbGFzcz1cIm1lbnUtaW5uZXItbGlzdC1ibG9ja1wiPlxuICAgICAgPGEgKm5nRm9yPVwibGV0IGFwcCBvZiAgYXBwcyB8IGZpbHRlckJ5TmFtZTpmaWx0ZXJlZEFwcFwiIFtocmVmXT1cImFwcC5kZWZhdWx0QWN0aW9uXCIgY2xhc3M9XCJhcHAtbWVudS1idG5cIlxuICAgICAgICAgdGl0bGU9XCJ7eyBhcHAuZGVzY3JpcHRpb24gfX1cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFwcC1tZW51LWlubmVyLWJsb2NrXCI+XG4gICAgICAgICAgPGltZyBhbHQ9XCJcIiBbc3JjXT1cImFwcC5pY29uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFwcC1tZW51LW5hbWVcIj57e2FwcC5kaXNwbGF5TmFtZX19PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtZW51LWlubmVyLWxpc3QtYmxvY2stbm8tbWF0Y2hcIiAqbmdJZj1cIihhcHBzIHwgZmlsdGVyQnlOYW1lOiBmaWx0ZXJlZEFwcCkubGVuZ3RoID09IDBcIj5cbiAgICAgIDxwPk5vIG1hdGNoIGZvdW5kITwvcD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibWVudS1hcHAtbWFuYWdlbWVudC1ibG9ja1wiPlxuICAgICAgPGEgW2hyZWZdPVwicm9vdFVybCArICdkaGlzLXdlYi1tZW51LW1hbmFnZW1lbnQvJ1wiIGNsYXNzPVwiYXBwLW1hbmFnZW1lbnQtYnRuXCI+XG4gICAgICAgIE1hbmFnZSBteSBBcHBzXG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG5gLFxuICBzdHlsZXM6IFtgLm1lbnUtc2VhcmNoLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEwMCV9Lm1lbnUtc2VhcmNoLWlucHV0LWJsb2Nre3dpZHRoOjM5MHB4fSNtZW51X3NlYXJjaF9pbnB1dHtwYWRkaW5nOjAhaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2Zsb2F0OnJpZ2h0O2JvcmRlci1zdHlsZTpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNmMWYxZjE7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2UtaW4tb3V0O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7aGVpZ2h0OjM3cHg7Zm9udC1zaXplOjE1cHg7d2lkdGg6MTAwJX0jbWVudV9zZWFyY2hfaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNyl9I21lbnVfc2VhcmNoX2lucHV0OjotbW96LXBsYWNlaG9sZGVye2NvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjcpfSNtZW51X3NlYXJjaF9pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNyl9I21lbnVfc2VhcmNoX2lucHV0Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNyl9I21lbnVfc2VhcmNoX2lucHV0OmZvY3Vze291dGxpbmU6MH0jbWVudV9zZWFyY2hfaW5wdXQ6Zm9jdXMrLnVuZGVybGluZXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9LnVuZGVybGluZXtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjJweDt3aWR0aDozOTBweDtib3R0b206MTFweDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwLDEpO3RyYW5zZm9ybTpzY2FsZSgwLDEpO3RyYW5zaXRpb246YWxsIC4zcyBsaW5lYXJ9Lm1lbnUtdG9nZ2xlLWxpbmt7bWFyZ2luOjEwcHh9Lm1lbnUtdG9nZ2xlLWxpbmsgYXtjdXJzb3I6cG9pbnRlcn0ubWVudS10b2dnbGUtaWNvbntkaXNwbGF5OmJsb2NrO2hlaWdodDoyNXB4O3dpZHRoOjI1cHg7ZmlsbDojZmZmfS5tZW51LWxpc3QtYmxvY2t7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jazt0b3A6NDlweDt3aWR0aDo1OTBweDttaW4taGVpZ2h0OjQzMHB4O3JpZ2h0OjEwcHg7ei1pbmRleDotMTAwMDtmb250LXNpemU6MTRweDt0ZXh0LWFsaWduOmxlZnQ7bGlzdC1zdHlsZTpub25lO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3gtc2hhZG93OjAgMCAzcHggcmdiYSgwLDAsMCwuMyl9Lm1lbnUtaW5uZXItbGlzdC1ibG9ja3tkaXNwbGF5OmZsZXg7b3ZlcmZsb3c6aGlkZGVuO2ZsZXgtd3JhcDp3cmFwO2hlaWdodDozODBweDtwYWRkaW5nOjEwcHggNXB4IDEwcHggMTBweH0ubWVudS1pbm5lci1saXN0LWJsb2NrOmhvdmVye292ZXJmbG93OmF1dG99Lm1lbnUtaW5uZXItbGlzdC1ibG9jay1uby1tYXRjaHtkaXNwbGF5OmZsZXg7b3ZlcmZsb3c6aGlkZGVuO2ZsZXgtd3JhcDp3cmFwO2hlaWdodDozODBweDtmb250LXNpemU6MjZweDtjb2xvcjojY2NjfS5tZW51LWlubmVyLWxpc3QtYmxvY2stbm8tbWF0Y2ggcHtwYWRkaW5nLXRvcDoxMDBweDt3aWR0aDoxMDAlIWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlcn0uYXBwc3twYWRkaW5nOjE1cHg7b3ZlcmZsb3c6YXV0bztyaWdodDozNXB4O3dpZHRoOjYwMHB4O2hlaWdodDo0MDBweH0uYXBwcy1oaWRkZW57ZGlzcGxheTpub25lfS5hcHBzLC5wcm9maWxle3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNlY2VjZWM7dG9wOjUwcHg7ei1pbmRleDoxMDAwO2JveC1zaGFkb3c6MCA1cHggMTBweCByZ2JhKDAsMCwwLC4xNzUpfS5hcHAtbWVudS1idG57bWFyZ2luOjVweDt0ZXh0LWRlY29yYXRpb246bm9uZTtoZWlnaHQ6MTIwcHg7d2lkdGg6MTIwcHg7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3RyYW5zaXRpb246YWxsIC4ycyBlYXNlLWluLW91dDtwYWRkaW5nOjVweH0uYXBwLW1lbnUtYnRuOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2YxZjFmMTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjAxKTt0cmFuc2Zvcm06c2NhbGUoMS4wMSl9LmFwcC1tZW51LWJ0biBpbWd7ZGlzcGxheTpibG9jazttYXJnaW46YXV0bztoZWlnaHQ6NTNweH0uYXBwLW1lbnUtbmFtZXttYXJnaW4tdG9wOjVweDtmb250LXNpemU6MTNweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojMjIyfS5tZW51LWlubmVyLWxpc3QtYmxvY2s6Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjEwcHh9Lm1lbnUtaW5uZXItbGlzdC1ibG9jazo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2t7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4wMil9Lm1lbnUtaW5uZXItbGlzdC1ibG9jazo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKX0ubWVudS1hcHAtbWFuYWdlbWVudC1ibG9ja3t3aWR0aDoxMDAlO2hlaWdodDo1MHB4O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3gtc2hhZG93OjAgLTFweCAycHggLTFweCByZ2JhKDAsMCwwLC4xNil9LmFwcC1tYW5hZ2VtZW50LWJ0bnt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1pbi1vdXQ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZvbnQtc2l6ZToxM3B4O2hlaWdodDo0MHB4O3dpZHRoOjk3JTtjb2xvcjojMjIyO3RleHQtZGVjb3JhdGlvbjpub25lfS5hcHAtbWFuYWdlbWVudC1idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWVlOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMDEpO3RyYW5zZm9ybTpzY2FsZSgxLjAxKX0ubWVudS1zZWFyY2gtaWNvbntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1yaWdodDo3cHh9YF0sXG4gIGFuaW1hdGlvbnM6IFtcbiAgICB0cmlnZ2VyKCdzbGlkZScsIFtcbiAgICAgIHN0YXRlKFxuICAgICAgICAnaW4nLFxuICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIHRyYW5zaXRpb24oJ3ZvaWQgPT4gKicsIFtcbiAgICAgICAgc3R5bGUoe1xuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTEwMCUpJ1xuICAgICAgICB9KSxcbiAgICAgICAgYW5pbWF0ZSgzMDApXG4gICAgICBdKSxcbiAgICAgIHRyYW5zaXRpb24oJyogPT4gdm9pZCcsIFtcbiAgICAgICAgYW5pbWF0ZSgzMDApLFxuICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtMTAwJSknXG4gICAgICAgIH0pXG4gICAgICBdKVxuICAgIF0pXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgTWVudVNlYXJjaENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIHJvb3RVcmw6IHN0cmluZztcbiAgc2VhcmNoV2lkdGg6IG51bWJlcjtcbiAgc2hvd0FwcHM6IGJvb2xlYW47XG4gIGFwcHM6IGFueVtdO1xuICBvcmlnaW5hbEFwcHM6IGFueVtdO1xuICBsb2FkaW5nTW9kdWxlczogYm9vbGVhbjtcbiAgZmlsdGVyZWRBcHA6IHN0cmluZztcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtZW51U2VydmljZTogTWVudVNlcnZpY2UpIHtcbiAgICB0aGlzLnJvb3RVcmwgPSAnLi4vLi4vLi4vJztcbiAgICB0aGlzLnNlYXJjaFdpZHRoID0gNDc7XG4gICAgdGhpcy5zaG93QXBwcyA9IGZhbHNlO1xuICAgIHRoaXMuYXBwcyA9IFtdO1xuICAgIHRoaXMub3JpZ2luYWxBcHBzID0gW107XG4gICAgdGhpcy5sb2FkaW5nTW9kdWxlcyA9IHRydWU7XG4gICAgdGhpcy5maWx0ZXJlZEFwcCA9ICcnO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5tZW51U2VydmljZVxuICAgICAgLmdldE1lbnVNb2R1bGVzKHRoaXMucm9vdFVybClcbiAgICAgIC5zdWJzY3JpYmUoKG1lbnVNb2R1bGVzOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKG1lbnVNb2R1bGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5sb2FkaW5nTW9kdWxlcyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMub3JpZ2luYWxBcHBzID0gWy4uLm1lbnVNb2R1bGVzXTtcbiAgICAgICAgICB0aGlzLmFwcHMgPSB0aGlzLl9wcmVwYXJlTWVudU1vZHVsZXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9wcmVwYXJlTWVudU1vZHVsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRBcHAgPT09ICcnXG4gICAgICA/IHRoaXMub3JpZ2luYWxBcHBzLmZpbHRlcigobWVudTogYW55KSA9PiB7XG4gICAgICAgICAgcmV0dXJuICFtZW51Lm9ubHlTaG93T25TZWFyY2g7XG4gICAgICAgIH0pXG4gICAgICA6IHRoaXMub3JpZ2luYWxBcHBzO1xuICB9XG5cbiAgdXBkYXRlTWVudU1vZHVsZXMoKSB7XG4gICAgdGhpcy5hcHBzID0gdGhpcy5fcHJlcGFyZU1lbnVNb2R1bGVzKCk7XG4gIH1cblxuICB3aWRkZW5TZWFyY2goZT8pIHtcbiAgICBpZiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVfc2VhcmNoX2lucHV0JykuZm9jdXMoKTtcbiAgICB0aGlzLnNob3dBcHBzID0gdHJ1ZTtcbiAgfVxuXG4gIHJlZHVjZVNlYXJjaChlPykge1xuICAgIGlmIChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudV9zZWFyY2hfaW5wdXQnKS5ibHVyKCk7XG4gICAgdGhpcy5zaG93QXBwcyA9IGZhbHNlO1xuICB9XG5cbiAgdG9nZ2xlU2VhcmNoKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLnNob3dBcHBzKSB7XG4gICAgICB0aGlzLnJlZHVjZVNlYXJjaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLndpZGRlblNlYXJjaCgpO1xuICAgIH1cbiAgfVxufVxuIl19