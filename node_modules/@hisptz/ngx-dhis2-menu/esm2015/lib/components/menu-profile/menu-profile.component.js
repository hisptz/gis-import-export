/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { MenuService } from '../../services/menu.service';
import { PROFILE_MENUS } from '../../constants/profile-menus';
export class MenuProfileComponent {
    /**
     * @param {?} menuService
     */
    constructor(menuService) {
        this.menuService = menuService;
        this.showProfile = false;
        this.rootUrl = this.contextPath = '../../../';
        this.loadingUser = true;
        this.profileMenus = PROFILE_MENUS;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.menuService.getUserInfo(this.rootUrl).subscribe((profile) => {
            if (profile) {
                this.currentUser = {
                    name: profile.displayName,
                    email: profile.email,
                };
            }
            this.loadingUser = false;
        });
    }
    /**
     * @param {?} e
     * @return {?}
     */
    showMenuProfile(e) {
        e.stopPropagation();
        this.showProfile = true;
    }
    /**
     * @param {?=} e
     * @return {?}
     */
    hideMenuProfile(e) {
        if (e) {
            e.stopPropagation();
        }
        this.showProfile = false;
    }
}
MenuProfileComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-menu-profile',
                template: `<div class="menu-profile-container" appClickOutside (clickOutside)="hideMenuProfile()">
    <div class="menu-profile-btn">
        <a class="menu-profile-icon" [style.background-color]="backgroundColor | convertToLighterColor" (mouseenter)="showMenuProfile($event)">
            {{currentUser?.name | abbreviate}}
        </a>
    </div>
    <div class="profile-menu-list-block" *ngIf="showProfile && !loadingUser" (mouseleave)="hideMenuProfile($event)">
        <div class="profile-menus-list">
            <a *ngFor="let profileMenu of profileMenus" [href]="rootUrl + profileMenu.defaultAction" class="profile-menu-btn">
                <div>
                    <img alt="" [src]="contextPath + profileMenu.icon">
                    <div class="profile-menu-name">{{profileMenu?.name}}</div>
                </div>
            </a>
        </div>
        <div class="user-profile-block">
            <div [style.background-color]="backgroundColor | convertToLighterColor" class="user-profile-logo" *ngIf="!loadingUser">{{currentUser?.name | abbreviate}}</div>
            <div class="user-profile-name">
                <span *ngIf="!loadingUser"><b>{{currentUser?.name}}</b></span>
            </div>
            <div><small *ngIf="!loadingUser">{{currentUser?.email}}</small></div>
            <div class="logout-btn-block">
                <a class="logout-btn" [href]="rootUrl + 'dhis-web-commons-security/logout.action'" *ngIf="!loadingUser">
            LOG OUT
          </a>
            </div>
        </div>
    </div>
</div>
`,
                styles: [`.menu-profile-icon{height:34px;width:34px;border-radius:17px;display:flex;justify-content:center;align-items:center;font-size:15px;cursor:pointer;text-decoration:none;color:#eee!important}.menu-profile-btn{margin-right:2rem;margin-top:5px}.profile-menu-list-block{position:absolute;top:42px;max-width:650px;width:100%;min-height:320px;right:10px;z-index:-1000;font-size:14px;text-align:left;list-style:none;background-color:#fff;display:flex;box-shadow:0 0 3px rgba(0,0,0,.3)}.profile-menus-list{width:70%;display:flex;flex-wrap:wrap;overflow:auto;padding:15px;height:300px}.user-profile-block{position:relative;text-align:center;width:30%;height:320px;padding-top:20px;background-color:#f5f5f5}.user-profile-logo{margin:auto;height:60px;width:60px;display:flex;justify-content:center;align-items:center;border-radius:30px;font-size:30px;color:#eee;font-weight:500}.user-profile-name{margin-top:10px}.logout-btn-block{position:absolute;bottom:20px;color:#555;padding:5px;width:100%}.logout-btn{display:block;text-decoration:none;text-align:center}.logout-btn:hover{color:#222}.profile-menu-btn{margin:5px;text-decoration:none;height:120px;width:120px;display:flex;justify-content:center;align-items:center;transition:all .2s ease-in-out;padding:5px}.profile-menu-btn:hover{background-color:#f1f1f1;-webkit-transform:scale(1.01);transform:scale(1.01)}.profile-menu-btn img{display:block;margin:auto;height:50px}.profile-menu-name{margin-top:5px;font-size:11px;text-align:center;color:#222}`]
            },] },
];
/** @nocollapse */
MenuProfileComponent.ctorParameters = () => [
    { type: MenuService }
];
MenuProfileComponent.propDecorators = {
    rootUrl: [{ type: Input }],
    contextPath: [{ type: Input }],
    backgroundColor: [{ type: Input }]
};
function MenuProfileComponent_tsickle_Closure_declarations() {
    /** @type {?} */
    MenuProfileComponent.prototype.rootUrl;
    /** @type {?} */
    MenuProfileComponent.prototype.contextPath;
    /** @type {?} */
    MenuProfileComponent.prototype.backgroundColor;
    /** @type {?} */
    MenuProfileComponent.prototype.showProfile;
    /** @type {?} */
    MenuProfileComponent.prototype.currentUser;
    /** @type {?} */
    MenuProfileComponent.prototype.loadingUser;
    /** @type {?} */
    MenuProfileComponent.prototype.profileMenus;
    /** @type {?} */
    MenuProfileComponent.prototype.menuService;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS1wcm9maWxlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BoaXNwdHovbmd4LWRoaXMyLW1lbnUvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9tZW51LXByb2ZpbGUvbWVudS1wcm9maWxlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzFELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQW9DOUQsTUFBTTs7OztJQWNKLFlBQW9CLFdBQXdCO1FBQXhCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQzFDLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDOUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLFlBQVksR0FBRyxhQUFhLENBQUM7S0FDbkM7Ozs7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE9BQVksRUFBRSxFQUFFO1lBQ3BFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ1osSUFBSSxDQUFDLFdBQVcsR0FBRztvQkFDakIsSUFBSSxFQUFFLE9BQU8sQ0FBQyxXQUFXO29CQUN6QixLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUs7aUJBQ3JCLENBQUM7YUFDSDtZQUNELElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1NBQzFCLENBQUMsQ0FBQztLQUNKOzs7OztJQUVELGVBQWUsQ0FBQyxDQUFDO1FBQ2YsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0tBQ3pCOzs7OztJQUVELGVBQWUsQ0FBQyxDQUFFO1FBQ2hCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDTixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDckI7UUFFRCxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztLQUMxQjs7O1lBOUVGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsa0JBQWtCO2dCQUM1QixRQUFRLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBNkJYO2dCQUNDLE1BQU0sRUFBRSxDQUFDLGs5Q0FBazlDLENBQUM7YUFDNzlDOzs7O1lBcENRLFdBQVc7OztzQkFzQ2pCLEtBQUs7MEJBR0wsS0FBSzs4QkFHTCxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNZW51U2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL21lbnUuc2VydmljZSc7XG5pbXBvcnQgeyBQUk9GSUxFX01FTlVTIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3Byb2ZpbGUtbWVudXMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhcHAtbWVudS1wcm9maWxlJyxcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwibWVudS1wcm9maWxlLWNvbnRhaW5lclwiIGFwcENsaWNrT3V0c2lkZSAoY2xpY2tPdXRzaWRlKT1cImhpZGVNZW51UHJvZmlsZSgpXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1lbnUtcHJvZmlsZS1idG5cIj5cbiAgICAgICAgPGEgY2xhc3M9XCJtZW51LXByb2ZpbGUtaWNvblwiIFtzdHlsZS5iYWNrZ3JvdW5kLWNvbG9yXT1cImJhY2tncm91bmRDb2xvciB8IGNvbnZlcnRUb0xpZ2h0ZXJDb2xvclwiIChtb3VzZWVudGVyKT1cInNob3dNZW51UHJvZmlsZSgkZXZlbnQpXCI+XG4gICAgICAgICAgICB7e2N1cnJlbnRVc2VyPy5uYW1lIHwgYWJicmV2aWF0ZX19XG4gICAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1tZW51LWxpc3QtYmxvY2tcIiAqbmdJZj1cInNob3dQcm9maWxlICYmICFsb2FkaW5nVXNlclwiIChtb3VzZWxlYXZlKT1cImhpZGVNZW51UHJvZmlsZSgkZXZlbnQpXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLW1lbnVzLWxpc3RcIj5cbiAgICAgICAgICAgIDxhICpuZ0Zvcj1cImxldCBwcm9maWxlTWVudSBvZiBwcm9maWxlTWVudXNcIiBbaHJlZl09XCJyb290VXJsICsgcHJvZmlsZU1lbnUuZGVmYXVsdEFjdGlvblwiIGNsYXNzPVwicHJvZmlsZS1tZW51LWJ0blwiPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwiXCIgW3NyY109XCJjb250ZXh0UGF0aCArIHByb2ZpbGVNZW51Lmljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtbWVudS1uYW1lXCI+e3twcm9maWxlTWVudT8ubmFtZX19PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidXNlci1wcm9maWxlLWJsb2NrXCI+XG4gICAgICAgICAgICA8ZGl2IFtzdHlsZS5iYWNrZ3JvdW5kLWNvbG9yXT1cImJhY2tncm91bmRDb2xvciB8IGNvbnZlcnRUb0xpZ2h0ZXJDb2xvclwiIGNsYXNzPVwidXNlci1wcm9maWxlLWxvZ29cIiAqbmdJZj1cIiFsb2FkaW5nVXNlclwiPnt7Y3VycmVudFVzZXI/Lm5hbWUgfCBhYmJyZXZpYXRlfX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1c2VyLXByb2ZpbGUtbmFtZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiIWxvYWRpbmdVc2VyXCI+PGI+e3tjdXJyZW50VXNlcj8ubmFtZX19PC9iPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj48c21hbGwgKm5nSWY9XCIhbG9hZGluZ1VzZXJcIj57e2N1cnJlbnRVc2VyPy5lbWFpbH19PC9zbWFsbD48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvdXQtYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJsb2dvdXQtYnRuXCIgW2hyZWZdPVwicm9vdFVybCArICdkaGlzLXdlYi1jb21tb25zLXNlY3VyaXR5L2xvZ291dC5hY3Rpb24nXCIgKm5nSWY9XCIhbG9hZGluZ1VzZXJcIj5cbiAgICAgICAgICAgIExPRyBPVVRcbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5cbmAsXG4gIHN0eWxlczogW2AubWVudS1wcm9maWxlLWljb257aGVpZ2h0OjM0cHg7d2lkdGg6MzRweDtib3JkZXItcmFkaXVzOjE3cHg7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2ZvbnQtc2l6ZToxNXB4O2N1cnNvcjpwb2ludGVyO3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiNlZWUhaW1wb3J0YW50fS5tZW51LXByb2ZpbGUtYnRue21hcmdpbi1yaWdodDoycmVtO21hcmdpbi10b3A6NXB4fS5wcm9maWxlLW1lbnUtbGlzdC1ibG9ja3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6NDJweDttYXgtd2lkdGg6NjUwcHg7d2lkdGg6MTAwJTttaW4taGVpZ2h0OjMyMHB4O3JpZ2h0OjEwcHg7ei1pbmRleDotMTAwMDtmb250LXNpemU6MTRweDt0ZXh0LWFsaWduOmxlZnQ7bGlzdC1zdHlsZTpub25lO2JhY2tncm91bmQtY29sb3I6I2ZmZjtkaXNwbGF5OmZsZXg7Ym94LXNoYWRvdzowIDAgM3B4IHJnYmEoMCwwLDAsLjMpfS5wcm9maWxlLW1lbnVzLWxpc3R7d2lkdGg6NzAlO2Rpc3BsYXk6ZmxleDtmbGV4LXdyYXA6d3JhcDtvdmVyZmxvdzphdXRvO3BhZGRpbmc6MTVweDtoZWlnaHQ6MzAwcHh9LnVzZXItcHJvZmlsZS1ibG9ja3twb3NpdGlvbjpyZWxhdGl2ZTt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDozMCU7aGVpZ2h0OjMyMHB4O3BhZGRpbmctdG9wOjIwcHg7YmFja2dyb3VuZC1jb2xvcjojZjVmNWY1fS51c2VyLXByb2ZpbGUtbG9nb3ttYXJnaW46YXV0bztoZWlnaHQ6NjBweDt3aWR0aDo2MHB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtib3JkZXItcmFkaXVzOjMwcHg7Zm9udC1zaXplOjMwcHg7Y29sb3I6I2VlZTtmb250LXdlaWdodDo1MDB9LnVzZXItcHJvZmlsZS1uYW1le21hcmdpbi10b3A6MTBweH0ubG9nb3V0LWJ0bi1ibG9ja3twb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MjBweDtjb2xvcjojNTU1O3BhZGRpbmc6NXB4O3dpZHRoOjEwMCV9LmxvZ291dC1idG57ZGlzcGxheTpibG9jazt0ZXh0LWRlY29yYXRpb246bm9uZTt0ZXh0LWFsaWduOmNlbnRlcn0ubG9nb3V0LWJ0bjpob3Zlcntjb2xvcjojMjIyfS5wcm9maWxlLW1lbnUtYnRue21hcmdpbjo1cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7aGVpZ2h0OjEyMHB4O3dpZHRoOjEyMHB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1pbi1vdXQ7cGFkZGluZzo1cHh9LnByb2ZpbGUtbWVudS1idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZjFmMWYxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMDEpO3RyYW5zZm9ybTpzY2FsZSgxLjAxKX0ucHJvZmlsZS1tZW51LWJ0biBpbWd7ZGlzcGxheTpibG9jazttYXJnaW46YXV0bztoZWlnaHQ6NTBweH0ucHJvZmlsZS1tZW51LW5hbWV7bWFyZ2luLXRvcDo1cHg7Zm9udC1zaXplOjExcHg7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6IzIyMn1gXVxufSlcbmV4cG9ydCBjbGFzcyBNZW51UHJvZmlsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpXG4gIHJvb3RVcmw6IHN0cmluZztcblxuICBASW5wdXQoKVxuICBjb250ZXh0UGF0aDogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuXG4gIHNob3dQcm9maWxlOiBib29sZWFuO1xuICBjdXJyZW50VXNlcjogYW55O1xuICBsb2FkaW5nVXNlcjogYm9vbGVhbjtcbiAgcHJvZmlsZU1lbnVzOiBhbnlbXTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtZW51U2VydmljZTogTWVudVNlcnZpY2UpIHtcbiAgICB0aGlzLnNob3dQcm9maWxlID0gZmFsc2U7XG4gICAgdGhpcy5yb290VXJsID0gdGhpcy5jb250ZXh0UGF0aCA9ICcuLi8uLi8uLi8nO1xuICAgIHRoaXMubG9hZGluZ1VzZXIgPSB0cnVlO1xuICAgIHRoaXMucHJvZmlsZU1lbnVzID0gUFJPRklMRV9NRU5VUztcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMubWVudVNlcnZpY2UuZ2V0VXNlckluZm8odGhpcy5yb290VXJsKS5zdWJzY3JpYmUoKHByb2ZpbGU6IGFueSkgPT4ge1xuICAgICAgaWYgKHByb2ZpbGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHtcbiAgICAgICAgICBuYW1lOiBwcm9maWxlLmRpc3BsYXlOYW1lLFxuICAgICAgICAgIGVtYWlsOiBwcm9maWxlLmVtYWlsLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdGhpcy5sb2FkaW5nVXNlciA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgc2hvd01lbnVQcm9maWxlKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuc2hvd1Byb2ZpbGUgPSB0cnVlO1xuICB9XG5cbiAgaGlkZU1lbnVQcm9maWxlKGU/KSB7XG4gICAgaWYgKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zaG93UHJvZmlsZSA9IGZhbHNlO1xuICB9XG59XG4iXX0=